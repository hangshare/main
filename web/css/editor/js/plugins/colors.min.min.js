/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(b){b.Editable.DEFAULTS=b.extend(b.Editable.DEFAULTS,{colors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsStep:7,colorGroups:[{text:"Text",cmd:"foreColor"},{text:"Background",cmd:"backColor"}],defaultColorGroup:"foreColor"}),b.Editable.prototype.refreshColors=function(){var c=this.getSelectionElement();this.$editor.find(".fr-color-picker button.fr-color-bttn").removeClass("active"),this.refreshColor(c,"background-color","backColor"),this.refreshColor(c,"color","foreColor")},b.Editable.prototype.refreshColor=function(a,f,e){for(;b(a).get(0)!=this.$element.get(0);){if("transparent"!==b(a).css(f)&&"rgba(0, 0, 0, 0)"!==b(a).css(f)){this.$editor.find('.fr-color-picker button.fr-color-bttn[data-param="'+e+'"][data-val="'+b.Editable.RGBToHex(b(a).css(f))+'"]').addClass("active");break}a=b(a).parent()}},b.Editable.commands=b.extend(b.Editable.commands,{color:{icon:"fa fa-tint",title:"Color",refreshOnShow:b.Editable.prototype.refreshColors,callback:function(e,d,f){this[f].apply(this,[d])},callbackWithoutSelection:function(a,f,e){"backColor"===e&&(e="background-color"),"foreColor"===e&&(e="color"),this._startInFontExec(e,a,f),"#123456"===f&&""===this.text()&&(this.cleanify(!0,!1),this.$element.find("span").each(function(g,j){var i=b(j),h=i.css("background-color");("#123456"===h||"#123456"===b.Editable.RGBToHex(h))&&i.css("background-color",""),h=i.css("color"),("#123456"===h||"#123456"===b.Editable.RGBToHex(h))&&i.css("color","")}))},undo:!0}}),b.Editable.prototype.command_dispatcher=b.extend(b.Editable.prototype.command_dispatcher,{color:function(e){var d=this.buildDropdownColor(e),f=this.buildDropdownButton(e,d,"fr-color-picker");return f}}),b.Editable.prototype.buildColorList=function(h,g){for(var l=this.options.defaultColorGroup==h?"block":"none",k='<div class="fr-color-set fr-'+h+'" style="display: '+l+'">',j=0;j<g.length;j++){var i=g[j];k+="REMOVE"!==i?'<button type="button" class="fr-color-bttn" data-val="'+i+'" data-cmd="color" data-param="'+h+'" style="background: '+i+';">&nbsp;</button>':'<button type="button" class="fr-color-bttn" data-val="#123456" data-cmd="color" data-param="'+h+'" style="background: #FFF;"><i class="fa fa-eraser"></i></button>',j%this.options.colorsStep==this.options.colorsStep-1&&j>0&&(k+="<hr/>",j!=this.options.colorsStep-1&&j!=2*this.options.colorsStep-1||!this.options.colorsTopChoices||(k+='<div class="separator"></div>'))}return k+="</div>"},b.Editable.prototype.buildDropdownColor=function(){for(var a="",h='<div class="fr-dropdown-menu">',g=0;g<this.options.colorGroups.length;g++){h+=this.buildColorList(this.options.colorGroups[g].cmd,this.options.colorGroups[g].colors||this.options.colors)}for(h+="<p>",g=0;g<this.options.colorGroups.length;g++){a=this.options.defaultColorGroup==this.options.colorGroups[g].cmd?"active":"",h+='<span class="fr-choose-color '+a+'" data-text="true" data-param="'+this.options.colorGroups[g].cmd+'" style="width: '+100/this.options.colorGroups.length+'%;">'+this.options.colorGroups[g].text+"</span>"}h+="</p></div>",this.$bttn_wrapper.on(this.mousedown,".fr-choose-color",function(c){return c.preventDefault(),c.stopPropagation(),"mousedown"===c.type&&1!==c.which?!0:void 0});var f=this;return this.$bttn_wrapper.on(this.mouseup,".fr-choose-color",function(d){if(d.preventDefault(),d.stopPropagation(),"mouseup"===d.type&&1!==d.which){return !0}var e=b(this);e.siblings().removeClass("active"),e.addClass("active"),e.parents(".fr-dropdown-menu").find("button").attr("data-param",e.attr("data-param")),e.parents(".fr-dropdown-menu").find(".fr-color-set").hide(),e.parents(".fr-dropdown-menu").find(".fr-color-set.fr-"+e.attr("data-param")).show(),f.refreshColors()}),h},b.Editable.prototype.backColor=function(a){this.inlineStyle("background-color","backColor",a),this.saveSelectionByMarkers(),this.$element.find("span").each(function(f,i){var h=b(i),g=h.css("background-color");("#123456"===g||"#123456"===b.Editable.RGBToHex(g))&&(h.css("background-color",""),h.find("span").each(function(e,k){var j=b(k);j.css("background-color",""),""!==j.attr("style")||j.hasClass("f-marker")||j.replaceWith(j.contents())})),""!==h.attr("style")||h.hasClass("f-marker")||h.replaceWith(h.contents())}),this.restoreSelectionByMarkers(),this.cleanify();var d=this.$editor.find('button.fr-color-bttn[data-cmd="backColor"][data-val="'+a+'"]');d.addClass("active"),d.siblings().removeClass("active")},b.Editable.prototype.foreColor=function(a){this.inlineStyle("color","foreColor",a),this.saveSelectionByMarkers(),this.$element.find("span").each(function(f,i){var h=b(i),g=h.css("color");("#123456"===g||"#123456"===b.Editable.RGBToHex(g))&&(h.css("color",""),h.find("span").each(function(e,k){var j=b(k);j.css("color",""),""!==j.attr("style")||j.hasClass("f-marker")||j.replaceWith(j.contents())})),""!==h.attr("style")||h.hasClass("f-marker")||h.replaceWith(h.contents())}),this.restoreSelectionByMarkers(),this.cleanify();var d=this.$editor.find('button.fr-color-bttn[data-cmd="foreColor"][data-val="'+a+'"]');d.addClass("active"),d.siblings().removeClass("active")}}(jQuery);